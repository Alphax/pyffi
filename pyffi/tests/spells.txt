This file contains doctests for the PyFFI.Spells module.

Test --examples switch
----------------------

>>> import sys
>>> sys.path.append("scripts/NIF")
>>> import niftoaster
>>> sys.argv = ["niftoaster.py", "--examples"]
>>> niftoaster.main()
* check if PyFFI can read all files in current directory
  (python version of nifskope's xml checker):
<BLANKLINE>
    python niftoaster.py read .
<BLANKLINE>
* merge skeleton roots and rest positions for all files in current directory:
<BLANKLINE>
    python niftoaster.py mergeskelandrestpos .
<BLANKLINE>
* scale all files in c:\zoo2 by a factor 100 - useful to
  visualize nif files from games such as Zoo Tycoon 2 that are otherwise too
  small to show up properly in nifskope:
<BLANKLINE>
    python niftoaster.py -a 100 scale "c:\zoo2"
<BLANKLINE>
* same as above, but also find out profile information on reading nif
  files:
<BLANKLINE>
    python -m cProfile -s cumulative -o profile_read.txt niftoaster.py read .
<BLANKLINE>
* find out time spent on a particular test:
<BLANKLINE>
    python -m cProfile -s cumulative niftoaster.py tristrip

Test --spells switch
--------------------

>>> import sys
>>> sys.path.append("scripts/NIF")
>>> import niftoaster
>>> sys.argv = ["niftoaster.py", "--spells"]
>>> niftoaster.main()
checkbhkbodycenter
checkcenterradius
checkconvexshape
checkmopp
checkskincenterradius
checkskinpartition
checktangentspace
checktristrip
dump
exportpixeldata
hackcheckskindata
hackmultiskelroot
hackskindataidtransform
hackskinrestpose
mergeskelandrestpos
optimize
read
readwrite
scale
updatecenterradius
updatemopp
updateskinpartition

Test the readwrite spell
------------------------

>>> import sys
>>> sys.path.append("scripts/NIF")
>>> import niftoaster
>>> sys.argv = ["niftoaster.py", "--verbose=99", "readwrite", "tests/nif/"]
>>> niftoaster.main() # doctest: +ELLIPSIS
Traceback (most recent call last):
    ...
NifError: unknown block type 'NiInvalid!'
>>> sys.argv = ["niftoaster.py", "--verbose=99", "--usetheforceluke", "readwrite", "tests/nif/"]
>>> niftoaster.main() # doctest: +ELLIPSIS
reading tests/nif/invalid.nif
Warning: read failed due to either a corrupt file, a corrupt xml, or a bug.
reading tests/nif/test.nif
  writing to temporary file...
Finished.


Test nifoptimize
----------------

>>> import sys
>>> sys.path.append("scripts/NIF")
>>> import nifoptimize
>>> sys.argv = ["nifoptimize.py", "--verbose=99", "tests/nif/test.nif"]
>>> nifoptimize.main() # doctest: +ELLIPSIS

