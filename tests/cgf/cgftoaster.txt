Doctests for the cgftoaster script
==================================

The --spells switch
-------------------

>>> import sys
>>> sys.path.append("scripts/CGF")
>>> import cgftoaster
>>> sys.argv = ["cgftoaster.py", "--spells"]
>>> cgftoaster.CgfToaster().cli()
check_read
check_readwrite

The check_read and check_readwrite spells
-----------------------------------------

>>> import sys
>>> sys.path.append("scripts/CGF")
>>> import cgftoaster
>>> sys.argv = ["cgftoaster.py", "--verbose=1", "check_read", "tests/cgf/"]
>>> cgftoaster.CgfToaster().cli() # doctest: +ELLIPSIS
pyffi.toaster:INFO:=== tests/cgf/invalid.cgf ===
pyffi.toaster:ERROR:TEST FAILED ON tests/cgf/invalid.cgf
pyffi.toaster:ERROR:If you were running a spell that came with PyFFI, then
pyffi.toaster:ERROR:please report this as a bug (include the file) on
pyffi.toaster:ERROR:http://sourceforge.net/tracker/?group_id=199269
pyffi.toaster:INFO:=== tests/cgf/test.cgf ===
pyffi.toaster:INFO:  --- check_read ---
pyffi.toaster:INFO:Finished.
>>> sys.argv = ["cgftoaster.py", "--verbose=1", "check_readwrite", "tests/cgf/test.cgf"]
>>> cgftoaster.CgfToaster().cli() # doctest: +ELLIPSIS
pyffi.toaster:INFO:=== tests/cgf/test.cgf ===
pyffi.toaster:INFO:  --- check_readwrite ---
pyffi.toaster:INFO:    writing to temporary file
pyffi.toaster:INFO:      comparing file sizes
pyffi.toaster:INFO:      original size: 166
pyffi.toaster:INFO:      written size:  168
pyffi.toaster:INFO:      padding:       2
pyffi.toaster:INFO:Finished.

